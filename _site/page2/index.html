<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>DevonPeel.me</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/css/theme.css" rel="stylesheet" type="text/css">
    <link href="/css/syntax.css" rel="stylesheet" type="text/css">
</head>

<body>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">DevonPeel.me</a>
              </div>
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Home</a></li>
                    <li class="active visible-xs-block"><a href="/links.html">Links</a></li>
                    <li class="active"><a href="/archive.html">Archive</a></li>
                    <li class="active"><a href="/Resume/index.html">About</a></li>
<!--                    <li class="active"><a href="/feed.xml">RSS</a></li>-->
                    
                      <li class="active"><a href="https://github.com/dp3">Github</a></li>
                    
                </ul>
              </div>
        </div>
    </div>
</div>


<div class="container container-left">
    <div class="row">
        <div class="col-md-3 hidden-xs">
            <div class="sidebar well">
 Personal  Website  for  Devon  Peel. Christ follower, Techie, Kansas State and KC Royals Fan
</div>

<div class="sidebar well">
    <h1>Recent Posts</h1>
    <ul>
        
          <li><a href="/2017/12/using-additional-ansible-facts">Using Additional Ansible Facts</a></li>
        
          <li><a href="/2017/11/addition-ansible-windows-facts">Additional Ansible Windows Facts</a></li>
        
          <li><a href="/2017/02/SMTPtoSMSrelay">SMTP to SMS relay</a></li>
        
          <li><a href="/2017/01/Python-WSGI">Python WSGI</a></li>
        
          <li><a href="/2016/12/Google-Analytics">Google Analytics</a></li>
        
    </ul>
</div>

<div class="sidebar well">
<h1>Reading List</h1>
<ul>
  <li><a href="http://www.cyberciti.biz">nixCraft</a></li>
  <li><a href="https://www.thingiverse.com">Thingiverse</a></li>
  <li><a href="http://www.engadget.com">Engadget</a></li>
</ul>

</div>

        </div>
        <div class="col-md-9">
            
<div class="article">
    <div class="well">
        <h1><a href="/2017/01/Python-WSGI">Jan 17, 2017 - Python WSGI</a></h1>
        
        <div class="content">
            <p>How to run a python pyramid application under apache2(httpd) using the mod_wgsi.</p>

<p>Create application user</p>

<p><code class="highlighter-rouge">
  useradd appdeploy
</code></p>

<p>Edit /etc/passwd</p>

<p><code class="highlighter-rouge">
  appdeploy:x:&lt;uid&gt;:&lt;gid&gt;:appdeploy:/&lt;home&gt;/&lt;directory&gt;:/sbin/nologin
</code></p>

<p>Create an apache2 config file under /etc/httpd/conf.d/</p>

<p>```
&lt;virtuallHost *:80&gt;
  ServerName archive.math.ksu.edu</p>

<h1 id="use-only-1-python-sub-interpreter--multiple-sub-interpreters">Use only 1 Python sub-interpreter.  Multiple sub-interpreters</h1>
<p># play badly with C extensions.  See
# http://stackoverflow.com/a/10558360/209039
WSGIApplicationGroup %{GLOBAL}
WSGIPassAuthorization On
WSGIDaemonProcess pyramid user=appdeploy    group=appdeploy  threads=4 \
   python-path=/var/www/archive/temp_py/lib/python2.7/site-packages
WSGIScriptAlias / /var/www/archive/pyramid.wsgi</p>

<p>&lt;Directory /var/www/archive&gt;
  WSGIProcessGroup pyramid
  Order allow,deny
  Allow from all
&lt;/Directory&gt;</p>

<p>&lt;/VirtualHost&gt;
```</p>

<p>Create a WSGI file in the application directory that will be called by the apache2 service.</p>

<p>```
import os,sys,site</p>

<p>os.environ[‘PYTHON_EGG_CACHE’] = ‘/var/www/archive/temp_py’</p>

<p>from pyramid.paster import get_app, setup_logging
ini_path = ‘/var/www/archive/production.ini’
#setup_logging(ini_path)
application = get_app(ini_path, ‘main’)
```</p>


        </div>
    </div>
</div>

<div class="article">
    <div class="well">
        <h1><a href="/2016/12/Google-Analytics">Dec 12, 2016 - Google Analytics</a></h1>
        
        <div class="content">
            <p>I am not sure  of the Russian interest in this website.</p>

<p>These are some funny languages 
<img src="http://devonpeel.me/assets/Google_Analytics_language.png" alt="useful image" />
<img src="http://devonpeel.me/assets/Google_Analytics_Country.png" alt="useful image" />
<img src="http://devonpeel.me/assets/Google_Analytics_city.png" alt="useful image" />
<img src="http://devonpeel.me/assets/Google_Analytics_time.png" alt="useful image" />
<img src="http://devonpeel.me/assets/Google_Analytics_chart.png" alt="useful image" /></p>

<p><img src="../../images/Google_Analytics_language.png" alt="screenshotOne" class="img-responsive" />
<img src="../../images/Google_Analytics_Country.png" alt="screenshotTwo" class="img-responsive" /> 
<img src="../../images/Google_Analytics_city.png" alt="screenshotThree" class="img-responsive" />
<img src="../../images/Google_Analytics_time.png" alt="screenshotFour" class="img-responsive" />
<img src="../../images/Google_Analytics_chart.png" alt="screenshotFive" class="img-responsive" /></p>

        </div>
    </div>
</div>

<div class="article">
    <div class="well">
        <h1><a href="/2016/05/ChoreApp">May 12, 2016 - Chore App</a></h1>
        
        <div class="content">
            <h2 id="chore-app">Chore App</h2>
<p>I made this chore asigning application for a small college dorm. Its purpose is to randomly assign chores to residents with respect to gender. A male (m) will get a male chore or gender neutral chore (n) and female (f) will get a female chore or gender neutral chore. Note random is not fair. Good Luck</p>

<p>The files needed</p>

<ul>
  <li>list of residents</li>
</ul>

<p><code class="highlighter-rouge">
   gender firstname lastname
   m john smith
   f julie smith
   m tom appleseed
</code></p>

<ul>
  <li>list of chores</li>
</ul>

<p><code class="highlighter-rouge">
  gender chore
  f clean womens bathroom
  n mop hallway
  m clean mens showers
</code></p>

<ul>
  <li>
    <p>ChoreApp.py</p>
  </li>
  <li>
    <p>clean.icns - an icon file</p>
  </li>
</ul>

<h2 id="build-the-app">Build the App</h2>

<h2 id="setup-python-virtaul-environment">Setup Python Virtaul Environment</h2>

<p><code class="highlighter-rouge">
pip install virtualenv
virtualenv venv
source venv/bin/activate
pip install xlwt py2app
</code></p>

<h2 id="chore-app-code">Chore App Code</h2>
<p>Please place chore app code in a seperate directory differnet to the python virtual environment.</p>

<p>```
import os, sys,random, xlwt, time, datetime
from xlwt import *</p>

<h1 id="file-imports">file imports</h1>
<p>chore_file=open(“../../../chores.txt”, “r”)
chores = chore_file.readlines()
#print chores</p>

<p>resident_file=open(“../../../residents.txt”, “r”)
residents = resident_file.readlines()
#print residents</p>

<h1 id="create-a-psueode-final-enum">create a psueode final enum</h1>
<p># m equals male
# f equals female
# n equals neutral</p>

<h1 id="creates-excel-file">creates excel file</h1>
<p>book = xlwt.Workbook(encoding=”utf-8”)
sheet1 = book.add_sheet(“Sheet 1”)</p>

<p>font0 = Font()
font0.bold = True</p>

<p>style0 = XFStyle()
style0.font = font0</p>

<h1 id="error-check">error check</h1>
<p>if len(chores) != len(residents):
    print “Error:”
    if len(chores) &gt; len(residents):
            sys.exit(“ Too many chores”)
    else:
            sys.exit(“ Too many residents”)</p>

<p>assignment = []
i = 0
while(residents):
    rand = random.randrange(0, len(residents))</p>

<div class="highlighter-rouge"><pre class="highlight"><code># retrieves the f or m before residents name
resident = residents[rand]
resident_gender = resident[0:1]
chore_gender = chores[i][0:1]

if(resident_gender == chore_gender) or (chore_gender == 'n'):
    len_chore = len(chores[i])
    len_resident = len(resident)
    print resident[2:len_resident] + " "  + chores[i][2:len_chore]
    tupl = [resident[2:len_resident].replace('\n',''), chores[i][2:len_chore].replace('\n','')]
    assignment.append(tupl)
    residents.pop(rand)
    i=i+1
</code></pre>
</div>

<h1 id="alphabetically-sort">alphabetically sort</h1>
<p>assignment.sort()
#write out alphabetically sorted chore list
j=1
date = datetime.datetime.now()
enddate = datetime.datetime.now() + datetime.timedelta(days=6)
sheet1.write(0,0,”Chore List For Week Of “ + date.strftime(‘%m/%d’) +” - “+ enddate.strftime(‘%m/%d’), style0)
for i in assignment:
    sheet1.write(j,0,i[0])
    sheet1.write(j,1,i[1])
    sheet1.write(j+1,0,’’)
    j=j+2</p>

<h1 id="saves-excell-file">saves excell file</h1>
<p>book.save(“../../../chores”+ date.strftime(‘%Y_%m_%d’) + “.xls”)
#book.save(“chores”+ date.strftime(‘%Y_%m_%d’) + “.xls”)</p>

<p>```</p>

<h2 id="the-build">The Build</h2>
<p>Change the the working direcotry to the chore_app and create a file called setup.py</p>

<p>```
cd chore_app
vim setup.py
   “””
   This is a setup.py script generated by py2applet</p>

<p>Usage:
   python setup.py py2app
   “””
   from setuptools import setup</p>

<p>APP = [‘ChoreApp.py’]
   DATA_FILES = [‘chores.txt’,’residents.txt’]
   OPTIONS = {
    ‘argv_emulation’: True,
    ‘iconfile’: ‘clean.icns’,
    ‘plist’: {
        ‘CFBundleName’: “ChoreApp”,
        ‘CFBundleDisplayName’: “ChoreApp”,
        ‘CFBundleGetInfoString’: “App for assigning chore”,
        ‘CFBundleVersion’: “0.2.0”,
        ‘CFBundleShortVersionString’: “0.2.0”,
        ‘NSHumanReadableCopyright’: u”Copyleft Devon Peel”
    }
}</p>

<p>setup(
    app=APP,
    data_files=DATA_FILES,
    options={‘py2app’: OPTIONS},
    setup_requires=[‘py2app’],
)</p>

<p>```</p>

<p>Time to build the App</p>

<p><code class="highlighter-rouge">
python setup.py py2app
</code></p>

<h2 id="run-choreapp">Run ChoreApp</h2>
<p>Place the ChoreApp file created in the above command with the chores.txt file and residents.txt file in the same directory. Then click on the ChoreApp to generate the output file assigning chores to residents.</p>

        </div>
    </div>
</div>


<div class="pagination">
  
      
        <a class="btn btn-default" href="/index.html" class="previous">Newer</a>
      
  
  <span class="page_number ">Page: 2 of 5</span>
  
    <a class="btn btn-default" href="/page3" class="next">Older</a>
  
</div>

        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12 footer navbar-inverse navbar-fixed-bottom">
            <p class="copyright">&copy;  2018 DevonPeel.me</a>
        </div>
    </div>
</div>






<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-55797517-1', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>

